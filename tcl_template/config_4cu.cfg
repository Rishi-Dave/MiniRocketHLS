[connectivity]
# MiniRocket kernel - 4 compute units for parallel processing
# Strategy: Share HBM banks via gmem bundle mapping
nk=krnl_top:4

# The kernel has 4 AXI bundles: gmem0, gmem1, gmem2, gmem3
# gmem0: time_series input
# gmem1: predictions output
# gmem2: dilations, num_features_per_dilation, biases, scaler_mean, scaler_scale (small read-only data)
# gmem3: coefficients, intercept (large read-only classifier data)

# Strategy: Map each CU's bundles to different HBM banks to maximize bandwidth
# Total: 4 bundles Ã— 4 CUs = 16 HBM banks needed (well within 32 bank limit)

# CU 1: HBM banks 0-3
sp=krnl_top_1.gmem0:HBM[0]
sp=krnl_top_1.gmem1:HBM[1]
sp=krnl_top_1.gmem2:HBM[2]
sp=krnl_top_1.gmem3:HBM[3]

# CU 2: HBM banks 4-7
sp=krnl_top_2.gmem0:HBM[4]
sp=krnl_top_2.gmem1:HBM[5]
sp=krnl_top_2.gmem2:HBM[6]
sp=krnl_top_2.gmem3:HBM[7]

# CU 3: HBM banks 8-11
sp=krnl_top_3.gmem0:HBM[8]
sp=krnl_top_3.gmem1:HBM[9]
sp=krnl_top_3.gmem2:HBM[10]
sp=krnl_top_3.gmem3:HBM[11]

# CU 4: HBM banks 12-15
sp=krnl_top_4.gmem0:HBM[12]
sp=krnl_top_4.gmem1:HBM[13]
sp=krnl_top_4.gmem2:HBM[14]
sp=krnl_top_4.gmem3:HBM[15]
