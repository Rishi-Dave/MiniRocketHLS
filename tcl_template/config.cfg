[connectivity]
# MiniRocket kernel - 2 compute units (maximum for 1:1 reference on U280)
# Limitation: 1:1 reference needs 9 HBM ports per CU
# U280 HBM controller: 32 ports max, but Vitis needs ~1 for control
# 4 CUs × 9 = 36 ports (exceeds limit)
# 2 CUs × 9 = 18 ports (within limit with headroom)
nk=krnl_top:2

# CU 1 - All 9 HBM ports assigned
sp=krnl_top_1.time_series_input:HBM[0]
sp=krnl_top_1.prediction_output:HBM[1]
sp=krnl_top_1.coefficients:HBM[2]
sp=krnl_top_1.intercept:HBM[3]
sp=krnl_top_1.scaler_mean:HBM[4]
sp=krnl_top_1.scaler_scale:HBM[5]
sp=krnl_top_1.dilations:HBM[6]
sp=krnl_top_1.num_features_per_dilation:HBM[7]
sp=krnl_top_1.biases:HBM[8]

# CU 2 - All 9 HBM ports assigned
sp=krnl_top_2.time_series_input:HBM[9]
sp=krnl_top_2.prediction_output:HBM[10]
sp=krnl_top_2.coefficients:HBM[11]
sp=krnl_top_2.intercept:HBM[12]
sp=krnl_top_2.scaler_mean:HBM[13]
sp=krnl_top_2.scaler_scale:HBM[14]
sp=krnl_top_2.dilations:HBM[15]
sp=krnl_top_2.num_features_per_dilation:HBM[16]
sp=krnl_top_2.biases:HBM[17]