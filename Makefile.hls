CXX = g++
CXXFLAGS = -std=c++11 -O2 -Wall -I.

# HLS simulation target
TARGET_HLS = test_hls
SOURCES_HLS = test_hls.cpp minirocket_inference_hls.cpp minirocket_hls_testbench_loader.cpp

all: $(TARGET_HLS)

$(TARGET_HLS): $(SOURCES_HLS)
	$(CXX) $(CXXFLAGS) -o $(TARGET_HLS) $(SOURCES_HLS) -lm

clean:
	rm -f $(TARGET_HLS)

test: $(TARGET_HLS)
	./$(TARGET_HLS)

.PHONY: all clean test