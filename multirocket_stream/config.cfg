[connectivity]
# MultiRocket kernel - 2 compute units (maximum for 1:1 reference on U280)
# Limitation: 1:1 reference needs 9 HBM ports per CU
# U280 HBM controller: 32 ports max, but Vitis needs ~1 for control
# 4 CUs × 9 = 36 ports (exceeds limit)
# 2 CUs × 9 = 18 ports (within limit with headroom)
nk=multirocket_inference:1
nk=store:1
nk=load:1

sp=load_1.time_series_input:HBM[0]
sp=store_1.prediction_output:HBM[1]

# CU 1 - All 9 HBM ports assigned
# sp=multirocket_inference_1.time_series_input:HBM[0]
# sp=multirocket_inference_1.prediction_output:HBM[1]
sp=multirocket_inference_1.coefficients:HBM[2]
sp=multirocket_inference_1.intercept:HBM[3]
sp=multirocket_inference_1.scaler_mean:HBM[4]
sp=multirocket_inference_1.scaler_scale:HBM[5]
sp=multirocket_inference_1.dilations_0:HBM[6]
sp=multirocket_inference_1.num_features_per_dilation_0:HBM[7]
sp=multirocket_inference_1.biases_0:HBM[8]
sp=multirocket_inference_1.dilations_1:HBM[9]
sp=multirocket_inference_1.num_features_per_dilation_1:HBM[10]
sp=multirocket_inference_1.biases_1:HBM[11]

sc=load_1.output:multirocket_inference_1.time_series_input:128
sc=multirocket_inference_1.prediction_output:store_1.prediction_input:128

# CU 2 - All 9 HBM ports assigned
# sp=krnl_top_2.time_series_input:HBM[9]
# sp=krnl_top_2.prediction_output:HBM[10]
# sp=krnl_top_2.coefficients:HBM[11]
# sp=krnl_top_2.intercept:HBM[12]
# sp=krnl_top_2.scaler_mean:HBM[13]
# sp=krnl_top_2.scaler_scale:HBM[14]
# sp=krnl_top_2.dilations:HBM[15]
# sp=krnl_top_2.num_features_per_dilation:HBM[16]
# sp=krnl_top_2.biases:HBM[17]